⎕IO ← 0


part1 ← +/ {{(1=+/⊃≤/⍵)∨(1=+/⊃≥/⍵)∨(2=+/⊃=/⍵)} ⍎¨¨ {⍵⊆⍨'-'≠⍵}¨ {⍵⊆⍨','≠⍵} ⍵}¨
part2 ← +/ {{(((⊃⍵[0])[0])⌈((⊃⍵[1])[0]))≤(((⊃⍵[0])[1])⌊((⊃⍵[1])[1]))} ⍎¨¨ {⍵⊆⍨'-'≠⍵}¨ {⍵⊆⍨','≠⍵} ⍵}¨


data ← ⊃⎕NGET ⍞1
⎕ ← part1 data
⎕ ← part2 data